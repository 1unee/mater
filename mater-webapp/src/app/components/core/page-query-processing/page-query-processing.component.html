<div class="border-1 border-round-2xl border-200">
  <div class="m-2">
    <div class="grid">
      <div class="col-12 pb-0">
        <div class="flex flex-wrap">
          <div class="col-12 p-1">
            <p-iconField iconPosition="left">
              <p-inputIcon styleClass="pi pi-search"/>
              <input class="w-full"
                     type="text"
                     pInputText
                     placeholder="Общий поиск"
                     [(ngModel)]="commonSearchValue"
                     (ngModelChange)="onCommonSearchChange($event)"
              />
            </p-iconField>
          </div>
          <div class="col-12 p-1">
            <p-dropdown styleClass="w-full"
                        appendTo="body"
                        placeholder="Характеристика"
                        [options]="pageQueryProcessingConfig.fields"
                        [(ngModel)]="pageQueryProcessingConfig.selectedField"
                        (ngModelChange)="onFieldChange($event)"
            ></p-dropdown>
          </div>
          <div class="col-12 p-1">
            <p-dropdown styleClass="w-full"
                        appendTo="body"
                        placeholder="Тип фильтрации"
                        [disabled]="!pageQueryProcessingConfig.selectedField"
                        [options]="pageQueryProcessingConfig.filters.get(pageQueryProcessingConfig.selectedField!)"
                        [(ngModel)]="pageQueryProcessingConfig.selectedFilter"
                        (ngModelChange)="onFilterChange($event)"
            ></p-dropdown>
          </div>
          <div class="col-12 p-1">
            <input class="p-2 w-full"
                   pInputText
                   type="text"
                   placeholder="Значение фильтрации"
                   [(ngModel)]="pageQueryProcessingConfig.filterValue"
                   (ngModelChange)="onFilterValueChange($event)"
            />
          </div>
          <div class="col-12 p-1">
            <p-dropdown styleClass="w-full"
                        appendTo="body"
                        placeholder="Тип сортировки"
                        [options]="pageQueryProcessingConfig.sorts"
                        [(ngModel)]="pageQueryProcessingConfig.selectedSort"
                        (ngModelChange)="onSortChange($event)"
            ></p-dropdown>
          </div>
          <div class="col-12 p-0 pt-2">
            <div class="flex justify-content-center flex-wrap">
              <div class="flex align-items-center justify-content-center">
                <div class="grid w-auto">
                  <div class="col-6 p-1">
                    <p-button label="Применить"
                              styleClass="p-1 w-8rem"
                              icon="pi pi-check"
                              severity="secondary"
                              appLongClick
                              (click)="apply()"
                              (longClick)="messageService.showInfo('Применяет выбранные фильтры и обновляет список машин')"
                    ></p-button>
                  </div>
                  <div class="col-6 p-1">
                    <p-button label="Очистить"
                              styleClass="p-1 w-8rem"
                              icon="pi pi-times"
                              severity="secondary"
                              appLongClick
                              (click)="clear()"
                              (longClick)="messageService.showInfo('Очищает выбранные фильтры')"
                    ></p-button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
